app:
  name: weather-bot
  namespace: weather-bot

image:
  repository: weather-bot
  tag: latest
  pullPolicy: IfNotPresent

service:
  type: NodePort
  port: 80
  targetPort: 8000

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

replicas: 2

autoscaling:
  enabled: true
  minReplicas: 2
  maxReplicas: 10
  metrics:
    cpu:
      enabled: true
      targetAverageUtilization: 70
    memory:
      enabled: true
      targetAverageUtilization: 80
  behavior:
    scaleDown:
      stabilizationWindowSeconds: 300
      percent: 50
      periodSeconds: 60
    scaleUp:
      stabilizationWindowSeconds: 0
      percent: 100
      pods: 2
      periodSeconds: 15

podDisruptionBudget:
  enabled: true
  minAvailable: 1

config:
  DEBUG: "false"
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  LOG_LEVEL: "INFO"
  ENABLE_METRICS: "true"
  DATABASE_URL: "sqlite:///./data/weather_bot.db"

ingress:
  enabled: false

healthcheck:
  path: /health
  liveness:
    enabled: true
    initialDelaySeconds: 30
    periodSeconds: 10
  readiness:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5

iam:
  roleArn: ""

aws:
  region: ""

labels:
  project: weather-bot
  environment: local
  managedBy: helm

persistence:
  enabled: false
  accessModes:
    - ReadWriteOnce
  size: 1Gi
  storageClass: ""
  mountPath: /app/data

sqlite:
  singleReplicaRequired: true


